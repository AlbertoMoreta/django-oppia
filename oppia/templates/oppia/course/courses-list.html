{% extends "base.html" %} 
{% load i18n %} 
{% load display_functions %} 

{% block extra_head_title %}
	{% trans 'Courses' %}
{% endblock extra_head_title %}


{% block content %}

<h2>{% trans 'Courses' %}</h2>

{% if tag_list %}
	<form method="post">
	{% trans 'Filter by tag: ' %}
	<select name="tag" onchange="OnTagChange(this.form.tag);">
		<option value="{% url 'oppia_course' %}">{% trans 'All courses' %}</option>
		{% for tag in tag_list %}
		 		<option value="{% url 'oppia_tag_courses' tag.id %}" {% if current_tag == tag.id %}selected="selected"{% endif %}>
		 			{{ tag.name }}
		 		</option>
		{% endfor %}
	</select>
	</form>
{% endif %}

{% if courses %}

	 <div class="table-responsive">
         <table class="table table-striped-expandable">
         	 <thead>
                <tr>
                  <th>{% trans 'Course' %}</th>
                  <th>{% trans 'Last updated' %}</th>
                  <th>{% trans 'Downloads' %}</th>
                </tr>
              </thead>
              <tbody>
	{% for course in courses %}
		<tr>
				<td><a href="{% url 'oppia_recent_activity' course.id %}">
				<strong>{{ course.title|title_lang:LANGUAGE_CODE }}</strong></a>
				{% if course.is_draft %}
					- <i>{% trans 'draft' %}</i>
				{% endif %}	
				{% if course.is_archived %}
					- <i>{% trans 'archived' %}</i>
				{% endif %}<br/>
				<small>{% trans 'Tags:' %} {{ course.get_tags }}</small></td>
				<td>{{ course.lastupdated_date }} </td>
				<td>{{ course.no_downloads }} downloads by {{ course.no_distinct_downloads }} users<br/>
					<a href="{% url 'oppia_course_download' course.id %}">{% trans 'download course' %}</a>
				</td>
			</tr>
	{% endfor %}
			</tbody>
 		</table>
	</div>
{% else %}
	{% url 'oppia_upload' as url_upload %}
	{% blocktrans %}
		<p>You don't yet have any courses uploaded, why not <a href="{{ url_upload }}">upload one now</a>?</p>
	{% endblocktrans %}
{% endif %}

{% endblock %}
